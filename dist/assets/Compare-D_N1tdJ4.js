import{_ as u,r as _,c as i,o as r,a as t,m as g,t as e,F as n,e as d,p as v,d as y,f as b,g as C,B as P}from"./index-B40vF9Ey.js";import{P as f}from"./ProductCard-B1LQx0_a.js";const S={name:"Compare",components:{ProductCard:f},setup(){const s=C(),c=P();return{productStore:s,settingsStore:c}},computed:{compareProducts(){return this.productStore.compareProducts||[]},suggestedProducts(){const s=this.productStore.products||[],c=this.compareProducts.map(l=>l.id);return s.filter(l=>!c.includes(l.id)).slice(0,3)},watchedProducts(){return this.productStore.watchedProducts||[]},priceAnalysis(){if(this.compareProducts.length===0)return{min:0,max:0,avg:0};const s=this.compareProducts.map(c=>c.price);return{min:Math.min(...s),max:Math.max(...s),avg:(s.reduce((c,l)=>c+l,0)/s.length).toFixed(2)}},salesAnalysis(){if(this.compareProducts.length===0)return{max:0,avg:0};const s=this.compareProducts.map(()=>Math.floor(Math.random()*1e3)+100);return{max:Math.max(...s),avg:Math.floor(s.reduce((c,l)=>c+l,0)/s.length)}},ratingAnalysis(){if(this.compareProducts.length===0)return{max:0,avg:0};const s=this.compareProducts.map(()=>Math.random()*2+3);return{max:Math.max(...s).toFixed(1),avg:(s.reduce((c,l)=>c+l,0)/s.length).toFixed(1)}}},async mounted(){this.productStore.isInitialized||await this.productStore.initialize()},methods:{getCompetitionText(s){return{low:this.$t("compare.competition.low"),medium:this.$t("compare.competition.medium"),high:this.$t("compare.competition.high")}[s]||s},viewDetails(s){this.$router.push(`/products/${s}`)},viewProduct(s){this.viewDetails(s)},addToCompare(s){this.productStore.addToCompare(s)},toggleWatch(s){this.productStore.toggleWatch(s)},removeFromCompare(s){this.productStore.removeFromCompare(s)},clearCompare(){this.productStore.clearCompare()},exportCompare(){alert(this.$t("common.developmentInProgress"))},goToSearch(){this.$router.push("/search")},goToDashboard(){this.$router.push("/")}}},w={class:"compare"},k={class:"page-header"},$={class:"page-title"},A={class:"page-subtitle"},M={key:0,class:"compare-content"},T={class:"compare-toolbar"},D={class:"toolbar-left"},F={class:"compare-count"},L={class:"toolbar-right"},W={class:"comparison-table"},B={class:"table"},V={class:"metric-column"},I={class:"product-header"},N=["src","alt"],z={class:"product-info"},R={class:"product-name"},E={class:"product-platform"},U=["title","onClick"],j={class:"metric-name"},q={class:"category-tag"},G={class:"compare-row"},H={class:"compare-label"},J={class:"compare-row"},K={class:"compare-label"},O={class:"compare-row"},Q={class:"compare-label"},X={class:"rating"},Y={class:"rating-value"},Z={class:"rating-stars"},x={class:"compare-row"},tt={class:"compare-label"},st={class:"compare-row actions-row"},et={class:"compare-label"},at={class:"product-actions"},ot=["onClick"],ct=["onClick"],rt={class:"analysis-section"},it={class:"section-title"},lt={class:"analysis-grid"},nt={class:"analysis-card"},dt={class:"analysis-title"},mt={class:"analysis-content"},ht={class:"price-stats"},pt={class:"stat-item"},ut={class:"stat-label"},_t={class:"stat-value"},gt={class:"stat-item"},vt={class:"stat-label"},yt={class:"stat-value"},bt={class:"stat-item"},Ct={class:"stat-label"},Pt={class:"stat-value"},ft={class:"analysis-card"},St={class:"analysis-title"},wt={class:"analysis-content"},kt={class:"sales-stats"},$t={class:"stat-item"},At={class:"stat-label"},Mt={class:"stat-value"},Tt={class:"stat-item"},Dt={class:"stat-label"},Ft={class:"stat-value"},Lt={class:"analysis-card"},Wt={class:"analysis-title"},Bt={class:"analysis-content"},Vt={class:"rating-stats"},It={class:"stat-item"},Nt={class:"stat-label"},zt={class:"stat-value"},Rt={class:"stat-item"},Et={class:"stat-label"},Ut={class:"stat-value"},jt={key:1,class:"empty-state"},qt={class:"empty-title"},Gt={class:"empty-description"},Ht={key:2,class:"compare-suggestions"},Jt={class:"suggested-products"};function Kt(s,c,l,m,Ot,o){const p=_("ProductCard");return r(),i("div",w,[t("div",k,[t("h1",$,e(s.$t("compare.title")),1),t("p",A,e(s.$t("compare.subtitle")),1)]),o.compareProducts.length>0?(r(),i("div",M,[t("div",T,[t("div",D,[t("span",F,e(s.$t("compare.selectedCount",{count:o.compareProducts.length})),1)]),t("div",L,[t("button",{class:"btn btn-secondary",onClick:c[0]||(c[0]=(...a)=>o.clearCompare&&o.clearCompare(...a))},e(s.$t("compare.clearAll")),1),t("button",{class:"btn btn-primary",onClick:c[1]||(c[1]=(...a)=>o.exportCompare&&o.exportCompare(...a))},e(s.$t("compare.export")),1)])]),t("div",W,[t("table",B,[t("thead",null,[t("tr",null,[t("th",V,e(s.$t("compare.features")),1),(r(!0),i(n,null,d(o.compareProducts,a=>(r(),i("th",{key:a.id,class:"product-column"},[t("div",I,[t("img",{src:a.imageUrl||`https://via.placeholder.com/200x200?text=${s.$t("common.product")}`,alt:a.title,class:"product-thumb"},null,8,N),t("div",z,[t("h4",R,e(a.title),1),t("span",E,e(a.platform),1)]),t("button",{class:"btn btn-ghost btn-sm remove-btn",title:s.$t("compare.remove"),onClick:h=>o.removeFromCompare(a.id)}," Ã— ",8,U)])]))),128))])]),t("tbody",null,[t("tr",null,[t("td",j,e(s.$t("compare.category")),1),(r(!0),i(n,null,d(o.compareProducts,a=>(r(),i("td",{key:`category-${a.id}`},[t("span",q,e(a.category),1)]))),128))]),t("tr",G,[t("td",H,e(s.$t("compare.price")),1),(r(!0),i(n,null,d(o.compareProducts,a=>(r(),i("td",{key:`price-${a.id}`,class:"compare-value price"},e(a.formattedPrice),1))),128))]),t("tr",J,[t("td",K,e(s.$t("compare.sales")),1),(r(!0),i(n,null,d(o.compareProducts,a=>(r(),i("td",{key:`sales-${a.id}`,class:"compare-value"},e(Math.floor(Math.random()*1e3)+100),1))),128))]),t("tr",O,[t("td",Q,e(s.$t("compare.rating")),1),(r(!0),i(n,null,d(o.compareProducts,a=>(r(),i("td",{key:`rating-${a.id}`,class:"compare-value"},[t("div",X,[t("span",Y,e((Math.random()*2+3).toFixed(1)),1),t("span",Z,e("â˜…".repeat(Math.floor(Math.random()*2+3)))+e("â˜†".repeat(5-Math.floor(Math.random()*2+3))),1)])]))),128))]),t("tr",x,[t("td",tt,e(s.$t("compare.competitionLabel")),1),(r(!0),i(n,null,d(o.compareProducts,a=>(r(),i("td",{key:`competition-${a.id}`,class:"compare-value"},[t("span",{class:v(`competition-badge competition-${a.competitionLevel}`)},e(o.getCompetitionText(a.competitionLevel)),3)]))),128))]),t("tr",st,[t("td",et,e(s.$t("compare.actions")),1),(r(!0),i(n,null,d(o.compareProducts,a=>(r(),i("td",{key:`actions-${a.id}`,class:"compare-value"},[t("div",at,[t("button",{class:"btn btn-primary btn-sm",onClick:h=>o.viewDetails(a.id)},e(s.$t("compare.viewDetails")),9,ot),t("button",{class:"btn btn-secondary btn-sm",onClick:h=>o.toggleWatch(a.id)},e(m.productStore.isWatched(a.id)?s.$t("watchlist.removeFromWatchlist"):s.$t("watchlist.addToWatchlist")),9,ct)])]))),128))])])])]),t("div",rt,[t("h2",it," ðŸ“Š "+e(s.$t("compare.analysis")),1),t("div",lt,[t("div",nt,[t("h3",dt,e(s.$t("compare.priceAnalysis")),1),t("div",mt,[t("div",ht,[t("div",pt,[t("span",ut,e(s.$t("compare.lowestPrice")),1),t("span",_t,e(m.settingsStore.formatCurrency(o.priceAnalysis.min)),1)]),t("div",gt,[t("span",vt,e(s.$t("compare.highestPrice")),1),t("span",yt,e(m.settingsStore.formatCurrency(o.priceAnalysis.max)),1)]),t("div",bt,[t("span",Ct,e(s.$t("compare.averagePrice")),1),t("span",Pt,e(m.settingsStore.formatCurrency(Number(o.priceAnalysis.avg))),1)])])])]),t("div",ft,[t("h3",St,e(s.$t("compare.salesAnalysis")),1),t("div",wt,[t("div",kt,[t("div",$t,[t("span",At,e(s.$t("compare.highestSales")),1),t("span",Mt,e(o.salesAnalysis.max.toLocaleString()),1)]),t("div",Tt,[t("span",Dt,e(s.$t("compare.averageSales")),1),t("span",Ft,e(o.salesAnalysis.avg.toLocaleString()),1)])])])]),t("div",Lt,[t("h3",Wt,e(s.$t("compare.ratingAnalysis")),1),t("div",Bt,[t("div",Vt,[t("div",It,[t("span",Nt,e(s.$t("compare.highestRating")),1),t("span",zt,e(o.ratingAnalysis.max),1)]),t("div",Rt,[t("span",Et,e(s.$t("compare.averageRating")),1),t("span",Ut,e(o.ratingAnalysis.avg),1)])])])])])])])):(r(),i("div",jt,[c[4]||(c[4]=t("div",{class:"empty-icon"}," ðŸ“Š ",-1)),t("h3",qt,e(s.$t("compare.emptyState.title")),1),t("p",Gt,e(s.$t("compare.emptyState.description")),1),t("button",{class:"btn btn-primary empty-action-btn",onClick:c[2]||(c[2]=(...a)=>o.goToDashboard&&o.goToDashboard(...a))},[c[3]||(c[3]=t("span",{class:"btn-icon"},"ðŸ”",-1)),y(" "+e(s.$t("compare.emptyState.cta")),1)])])),o.compareProducts.length>0&&o.compareProducts.length<4?(r(),i("div",Ht,[t("h3",null,e(s.$t("compare.suggestions")),1),t("p",null,e(s.$t("compare.suggestionsDesc")),1),t("div",Jt,[(r(!0),i(n,null,d(o.suggestedProducts,a=>(r(),b(p,{key:a.id,product:a,"is-watched":o.watchedProducts.some(h=>h.id===a.id),"is-in-compare":!1,onViewDetails:o.viewProduct,onAddToCompare:o.addToCompare},null,8,["product","is-watched","onViewDetails","onAddToCompare"]))),128))])])):g("",!0)])}const Yt=u(S,[["render",Kt],["__scopeId","data-v-59ae0bc9"]]);export{Yt as default};
