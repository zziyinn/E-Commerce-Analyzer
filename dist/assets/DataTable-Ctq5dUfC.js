import{_ as f,c as r,e as y,a as n,t as u,D as k,F as h,r as _,n as m,b as g,l as a}from"./index-Jd6TsP0i.js";const b={name:"DataTable",props:{title:{type:String,default:""},columns:{type:Array,required:!0,validator:e=>e.every(l=>l.key&&l.label)},data:{type:Array,default:()=>[]},keyField:{type:String,default:"id"},showHeader:{type:Boolean,default:!0},emptyText:{type:String,default:""}},emits:["row-click","sort-change"],data(){return{sortKey:"",sortOrder:"asc"}},computed:{sortedData(){return this.sortKey?[...this.data].sort((l,s)=>{const i=this.getColumnValue(l,this.sortKey),c=this.getColumnValue(s,this.sortKey);if(typeof i=="number"&&typeof c=="number")return this.sortOrder==="asc"?i-c:c-i;const o=String(i).toLowerCase(),t=String(c).toLowerCase();return this.sortOrder==="asc"?o.localeCompare(t):t.localeCompare(o)}):this.data}},methods:{getColumnValue(e,l){return l.split(".").reduce((s,i)=>s==null?void 0:s[i],e)},getItemKey(e){return this.getColumnValue(e,this.keyField)},handleSort(e){e.sortable&&(this.sortKey===e.key?this.sortOrder=this.sortOrder==="asc"?"desc":"asc":(this.sortKey=e.key,this.sortOrder="asc"),this.$emit("sort-change",{key:this.sortKey,order:this.sortOrder}))},getSortIcon(e){return this.sortKey!==e?"â†•":this.sortOrder==="asc"?"â†‘":"â†“"}}},C={class:"data-table"},v={key:0,class:"table-header"},S={class:"table-title"},p={class:"table-actions"},V={class:"table-container"},K={class:"table"},O=["onClick"],w={key:0,class:"sort-indicator"},D=["onClick"],I={key:0,class:"table-empty"},N={class:"empty-text"};function T(e,l,s,i,c,o){return a(),r("div",C,[s.showHeader?(a(),r("div",v,[n("h3",S,u(s.title||"æ•°æ®è¡¨"),1),n("div",p,[k(e.$slots,"actions",{},void 0)])])):y("",!0),n("div",V,[n("table",K,[n("thead",null,[n("tr",null,[(a(!0),r(h,null,_(s.columns,t=>(a(),r("th",{key:t.key,class:m(t.className),onClick:d=>o.handleSort(t)},[g(u(t.label)+" ",1),t.sortable?(a(),r("span",w,u(o.getSortIcon(t.key)),1)):y("",!0)],10,O))),128))])]),n("tbody",null,[(a(!0),r(h,null,_(o.sortedData,t=>(a(),r("tr",{key:o.getItemKey(t),class:"table-row",onClick:d=>e.$emit("row-click",t)},[(a(!0),r(h,null,_(s.columns,d=>(a(),r("td",{key:d.key,class:m(d.className)},[k(e.$slots,`cell-${d.key}`,{item:t,value:o.getColumnValue(t,d.key)},()=>[g(u(o.getColumnValue(t,d.key)),1)])],2))),128))],8,D))),128))])]),s.data.length?y("",!0):(a(),r("div",I,[l[0]||(l[0]=n("div",{class:"empty-icon"}," ğŸ“­ ",-1)),n("div",N,u(s.emptyText||"æš‚æ— æ•°æ®"),1)]))])])}const B=f(b,[["render",T],["__scopeId","data-v-782c0eb4"]]);export{B as D};
