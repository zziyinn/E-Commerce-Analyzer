import{D as y,s as L,S as U,_ as k,c as g,o as r,a as e,t as o,j as l,l as c,E as v,G as _,m as R,v as b,F as T,e as D,B as V,q as z,h as N}from"./index-B40vF9Ey.js";const w=y("language",()=>{const n=U[0],t=L(n);return{locale:t,setLocale:s=>{s!==n&&console.info("[i18n] å¤šè¯­è¨€åˆ‡æ¢å·²å†»ç»“ï¼Œå½“å‰ä»…ä½¿ç”¨ zh-CNã€‚è¯·æŸ¥çœ‹ docs/i18n-reenable.md äº†è§£æ¢å¤æ­¥éª¤ã€‚"),t.value=n}}}),P={name:"Settings",setup(){var f;const n=V(),{t,locale:h}=z(),s=w(),p=N({get:()=>s.locale,set:()=>{s.setLocale(s.locale)}});return h.value=s.locale,(f=n.settings)!=null&&f.general&&(n.settings.general.language=s.locale),{settingsStore:n,currentLanguage:p,handleLanguageChange:()=>{var i;(i=n.settings)!=null&&i.general&&(n.settings.general.language=s.locale),console.info("[i18n] å¤šè¯­è¨€åˆ‡æ¢æš‚æ—¶ç¦ç”¨ï¼Œå½“å‰ä»…æä¾›ç®€ä½“ä¸­æ–‡ã€‚")},handleThemeChange:()=>{const i=n.settings.value.general.theme;n.applyTheme(i)},handleCurrencyChange:()=>{},saveSettings:async()=>{try{await n.saveSettings(),alert(t("settings.messages.saved"))}catch(i){console.error("Failed to save settings:",i),alert(t("settings.messages.saveFailed"))}},cancelChanges:()=>{n.cancelChanges()},clearCache:async()=>{if(confirm(t("settings.messages.clearCacheConfirm")))try{localStorage.removeItem("product-cache"),localStorage.removeItem("search-history"),localStorage.removeItem("user-preferences"),alert(t("settings.messages.cacheCleared"))}catch(i){console.error("Failed to clear cache:",i),alert(t("settings.messages.clearCacheFailed"))}},exportData:()=>{const i={settings:n.settings,exportDate:new Date().toISOString(),version:"1.0"},u=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),S=URL.createObjectURL(u),d=document.createElement("a");d.href=S,d.download=`settings-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(S)},resetSettings:()=>{confirm(t("settings.messages.resetConfirm"))&&(n.resetToDefaults(),alert(t("settings.messages.resetSuccess")))},formatDate:i=>{const u=s.locale;return new Date(i).toLocaleString(u)}}}},F={class:"settings"},I={class:"page-header"},O={class:"page-title"},j={class:"page-subtitle"},B={class:"settings-content"},E={class:"settings-section"},M={class:"section-title"},A={class:"settings-grid"},G={class:"setting-item"},J={class:"setting-label"},W={value:"zh-CN"},Y={value:"zh-TW",disabled:""},q={value:"en",disabled:""},H={class:"setting-item"},K={class:"setting-label"},Q={class:"theme-selector"},X={class:"radio-option"},Z={class:"radio-label"},$={class:"radio-option"},x={class:"radio-label"},ee={class:"radio-option"},te={class:"radio-label"},se={class:"setting-item"},ne={class:"setting-label"},ae={value:"USD"},oe={value:"EUR"},ie={value:"GBP"},le={value:"JPY"},ge={value:"CNY"},re={class:"settings-section"},de={class:"section-title"},ce={class:"settings-grid"},he={class:"setting-item"},me={class:"setting-label"},ue={value:"amazon"},ve={value:"ebay"},be={value:"shopee"},pe={value:"lazada"},fe={value:"aliexpress"},Se={class:"setting-item"},_e={class:"setting-label"},Ce={class:"setting-item"},ye={class:"setting-label"},Le={class:"toggle-switch"},Ue={class:"settings-section"},ke={class:"section-title"},Re={class:"settings-grid"},Te={class:"setting-item"},De={class:"setting-label"},Ve={class:"input-group"},ze={class:"setting-item"},Ne={class:"setting-label"},we={class:"input-group"},Pe={class:"setting-item"},Fe={class:"setting-label"},Ie={class:"toggle-switch"},Oe={key:0,class:"setting-item"},je={class:"setting-label"},Be=["placeholder"],Ee={class:"settings-section"},Me={class:"section-title"},Ae={class:"exchange-rates-info"},Ge={class:"rates-header"},Je={class:"rates-description"},We={class:"rates-meta"},Ye={class:"last-update"},qe={class:"data-source"},He={class:"rates-grid"},Ke={class:"currency-code"},Qe={class:"rate-value"},Xe={class:"settings-actions"},Ze=["disabled"],$e={key:0},xe={key:1},et=["disabled"];function tt(n,t,h,s,p,C){return r(),g("div",F,[e("div",I,[e("h1",O," âš™ï¸ "+o(n.$t("settings.title")),1),e("p",j,o(n.$t("settings.subtitle")),1)]),e("div",B,[e("div",E,[e("h2",M," ðŸŒ "+o(n.$t("settings.general.title")),1),e("div",A,[e("div",G,[e("label",J,o(n.$t("settings.general.language")),1),l(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>s.currentLanguage=a),class:"form-select","aria-disabled":"true",disabled:"",onChange:t[1]||(t[1]=(...a)=>s.handleLanguageChange&&s.handleLanguageChange(...a))},[e("option",W,o(n.$t("common.languages.zh-CN")),1),e("option",Y,o(n.$t("common.languages.zh-TW")),1),e("option",q,o(n.$t("common.languages.en")),1)],544),[[c,s.currentLanguage]])]),e("div",H,[e("label",K,o(n.$t("settings.general.theme")),1),e("div",Q,[e("label",X,[l(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>s.settingsStore.settings.general.theme=a),type:"radio",value:"light",onChange:t[3]||(t[3]=(...a)=>s.handleThemeChange&&s.handleThemeChange(...a))},null,544),[[v,s.settingsStore.settings.general.theme]]),e("span",Z,o(n.$t("settings.theme.light")),1)]),e("label",$,[l(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>s.settingsStore.settings.general.theme=a),type:"radio",value:"dark",onChange:t[5]||(t[5]=(...a)=>s.handleThemeChange&&s.handleThemeChange(...a))},null,544),[[v,s.settingsStore.settings.general.theme]]),e("span",x,o(n.$t("settings.theme.dark")),1)]),e("label",ee,[l(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>s.settingsStore.settings.general.theme=a),type:"radio",value:"auto",onChange:t[7]||(t[7]=(...a)=>s.handleThemeChange&&s.handleThemeChange(...a))},null,544),[[v,s.settingsStore.settings.general.theme]]),e("span",te,o(n.$t("settings.theme.auto")),1)])])]),e("div",se,[e("label",ne,o(n.$t("settings.general.currency")),1),l(e("select",{"onUpdate:modelValue":t[8]||(t[8]=a=>s.settingsStore.settings.general.currency=a),class:"form-select",onChange:t[9]||(t[9]=(...a)=>s.handleCurrencyChange&&s.handleCurrencyChange(...a))},[e("option",ae,o(n.$t("settings.currency.usd")),1),e("option",oe,o(n.$t("settings.currency.eur")),1),e("option",ie,o(n.$t("settings.currency.gbp")),1),e("option",le,o(n.$t("settings.currency.jpy")),1),e("option",ge,o(n.$t("settings.currency.cny")),1)],544),[[c,s.settingsStore.settings.general.currency]])])])]),e("div",re,[e("h2",de," ðŸ“Š "+o(n.$t("settings.data.title")),1),e("div",ce,[e("div",he,[e("label",me,o(n.$t("settings.data.defaultPlatform")),1),l(e("select",{"onUpdate:modelValue":t[10]||(t[10]=a=>s.settingsStore.settings.defaultPlatform=a),class:"form-select"},[e("option",ue,o(n.$t("settings.platforms.amazon")),1),e("option",ve,o(n.$t("settings.platforms.ebay")),1),e("option",be,o(n.$t("settings.platforms.shopee")),1),e("option",pe,o(n.$t("settings.platforms.lazada")),1),e("option",fe,o(n.$t("settings.platforms.aliexpress")),1)],512),[[c,s.settingsStore.settings.defaultPlatform]])]),e("div",Se,[e("label",_e,o(n.$t("settings.data.pageSize")),1),l(e("select",{"onUpdate:modelValue":t[11]||(t[11]=a=>s.settingsStore.settings.pageSize=a),class:"form-select"},[...t[22]||(t[22]=[e("option",{value:"10"}," 10 ",-1),e("option",{value:"20"}," 20 ",-1),e("option",{value:"50"}," 50 ",-1),e("option",{value:"100"}," 100 ",-1)])],512),[[c,s.settingsStore.settings.pageSize]])]),e("div",Ce,[e("label",ye,o(n.$t("settings.data.autoRefresh")),1),e("div",Le,[l(e("input",{id:"autoRefresh","onUpdate:modelValue":t[12]||(t[12]=a=>s.settingsStore.settings.autoRefresh=a),type:"checkbox"},null,512),[[_,s.settingsStore.settings.autoRefresh]]),t[23]||(t[23]=e("label",{for:"autoRefresh",class:"toggle-label"},null,-1))])])])]),e("div",Ue,[e("h2",ke," ðŸ”” "+o(n.$t("settings.notifications.title")),1),e("div",Re,[e("div",Te,[e("label",De,o(n.$t("settings.notifications.priceChange")),1),e("div",Ve,[l(e("input",{"onUpdate:modelValue":t[13]||(t[13]=a=>s.settingsStore.settings.alerts.priceChangeThreshold=a),type:"number",class:"form-input",min:"1",max:"100"},null,512),[[b,s.settingsStore.settings.alerts.priceChangeThreshold]]),t[24]||(t[24]=e("span",{class:"input-suffix"},"%",-1))])]),e("div",ze,[e("label",Ne,o(n.$t("settings.notifications.salesChange")),1),e("div",we,[l(e("input",{"onUpdate:modelValue":t[14]||(t[14]=a=>s.settingsStore.settings.alerts.salesChangeThreshold=a),type:"number",class:"form-input",min:"1",max:"1000"},null,512),[[b,s.settingsStore.settings.alerts.salesChangeThreshold]]),t[25]||(t[25]=e("span",{class:"input-suffix"},"%",-1))])]),e("div",Pe,[e("label",Fe,o(n.$t("settings.notifications.email")),1),e("div",Ie,[l(e("input",{id:"emailNotification","onUpdate:modelValue":t[15]||(t[15]=a=>s.settingsStore.settings.alerts.emailNotification=a),type:"checkbox"},null,512),[[_,s.settingsStore.settings.alerts.emailNotification]]),t[26]||(t[26]=e("label",{for:"emailNotification",class:"toggle-label"},null,-1))])]),s.settingsStore.settings.alerts.emailNotification?(r(),g("div",Oe,[e("label",je,o(n.$t("settings.notifications.emailAddress")),1),l(e("input",{"onUpdate:modelValue":t[16]||(t[16]=a=>s.settingsStore.settings.alerts.email=a),type:"email",class:"form-input",placeholder:n.$t("settings.notifications.emailPlaceholder")},null,8,Be),[[b,s.settingsStore.settings.alerts.email]])])):R("",!0)])]),e("div",Ee,[e("h2",Me," ðŸ’± "+o(n.$t("settings.exchangeRates.title")),1),e("div",Ae,[e("div",Ge,[e("p",Je,o(n.$t("settings.exchangeRates.description")),1),e("div",We,[e("span",Ye,o(n.$t("settings.exchangeRates.lastUpdate"))+": "+o(s.formatDate(s.settingsStore.exchangeRates.lastUpdate)),1),e("span",qe,o(n.$t("settings.exchangeRates.source"))+": "+o(s.settingsStore.exchangeRates.source),1)])]),e("div",He,[(r(!0),g(T,null,D(s.settingsStore.exchangeRates.rates,(a,m)=>(r(),g("div",{key:m,class:"rate-item"},[e("span",Ke,o(m),1),e("span",Qe,o(a.toFixed(4)),1)]))),128))])])]),e("div",Xe,[e("button",{class:"btn btn-primary",disabled:s.settingsStore.saving||!s.settingsStore.hasChanges,onClick:t[17]||(t[17]=(...a)=>s.saveSettings&&s.saveSettings(...a))},[s.settingsStore.saving?(r(),g("span",$e,o(n.$t("settings.actions.saving")),1)):(r(),g("span",xe,o(n.$t("settings.actions.save")),1))],8,Ze),e("button",{class:"btn btn-secondary",disabled:s.settingsStore.saving||!s.settingsStore.hasChanges,onClick:t[18]||(t[18]=(...a)=>s.cancelChanges&&s.cancelChanges(...a))},o(n.$t("settings.actions.cancel")),9,et),e("button",{class:"btn btn-warning",onClick:t[19]||(t[19]=(...a)=>s.clearCache&&s.clearCache(...a))},o(n.$t("settings.actions.clearCache")),1),e("button",{class:"btn btn-info",onClick:t[20]||(t[20]=(...a)=>s.exportData&&s.exportData(...a))},o(n.$t("settings.actions.export")),1),e("button",{class:"btn btn-danger",onClick:t[21]||(t[21]=(...a)=>s.resetSettings&&s.resetSettings(...a))},o(n.$t("settings.actions.reset")),1)])])])}const rt=k(P,[["render",tt],["__scopeId","data-v-a9bfb8ee"]]);export{rt as default};
