import{_ as f,c as r,o as a,m as y,a as n,t as u,C as k,F as h,e as _,p as m,d as g}from"./index-B40vF9Ey.js";const b={name:"DataTable",props:{title:{type:String,default:""},columns:{type:Array,required:!0,validator:e=>e.every(o=>o.key&&o.label)},data:{type:Array,default:()=>[]},keyField:{type:String,default:"id"},showHeader:{type:Boolean,default:!0},emptyText:{type:String,default:""}},emits:["row-click","sort-change"],data(){return{sortKey:"",sortOrder:"asc"}},computed:{sortedData(){return this.sortKey?[...this.data].sort((o,s)=>{const i=this.getColumnValue(o,this.sortKey),c=this.getColumnValue(s,this.sortKey);if(typeof i=="number"&&typeof c=="number")return this.sortOrder==="asc"?i-c:c-i;const l=String(i).toLowerCase(),t=String(c).toLowerCase();return this.sortOrder==="asc"?l.localeCompare(t):t.localeCompare(l)}):this.data}},methods:{getColumnValue(e,o){return o.split(".").reduce((s,i)=>s==null?void 0:s[i],e)},getItemKey(e){return this.getColumnValue(e,this.keyField)},handleSort(e){e.sortable&&(this.sortKey===e.key?this.sortOrder=this.sortOrder==="asc"?"desc":"asc":(this.sortKey=e.key,this.sortOrder="asc"),this.$emit("sort-change",{key:this.sortKey,order:this.sortOrder}))},getSortIcon(e){return this.sortKey!==e?"â†•":this.sortOrder==="asc"?"â†‘":"â†“"}}},C={class:"data-table"},p={key:0,class:"table-header"},v={class:"table-title"},S={class:"table-actions"},V={class:"table-container"},K={class:"table"},O=["onClick"],w={key:0,class:"sort-indicator"},D=["onClick"],I={key:0,class:"table-empty"},N={class:"empty-text"};function T(e,o,s,i,c,l){return a(),r("div",C,[s.showHeader?(a(),r("div",p,[n("h3",v,u(s.title||"æ•°æ®è¡¨"),1),n("div",S,[k(e.$slots,"actions",{},void 0)])])):y("",!0),n("div",V,[n("table",K,[n("thead",null,[n("tr",null,[(a(!0),r(h,null,_(s.columns,t=>(a(),r("th",{key:t.key,class:m(t.className),onClick:d=>l.handleSort(t)},[g(u(t.label)+" ",1),t.sortable?(a(),r("span",w,u(l.getSortIcon(t.key)),1)):y("",!0)],10,O))),128))])]),n("tbody",null,[(a(!0),r(h,null,_(l.sortedData,t=>(a(),r("tr",{key:l.getItemKey(t),class:"table-row",onClick:d=>e.$emit("row-click",t)},[(a(!0),r(h,null,_(s.columns,d=>(a(),r("td",{key:d.key,class:m(d.className)},[k(e.$slots,`cell-${d.key}`,{item:t,value:l.getColumnValue(t,d.key)},()=>[g(u(l.getColumnValue(t,d.key)),1)])],2))),128))],8,D))),128))])]),s.data.length?y("",!0):(a(),r("div",I,[o[0]||(o[0]=n("div",{class:"empty-icon"}," ğŸ“­ ",-1)),n("div",N,u(s.emptyText||"æš‚æ— æ•°æ®"),1)]))])])}const B=f(b,[["render",T],["__scopeId","data-v-782c0eb4"]]);export{B as D};
